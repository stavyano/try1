'use strict';

var _http = require('http');

var _https = require('https');

var _lodash = require('lodash.startswith');

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = opts => {
  const httpAgent = new _http.Agent(opts);
  const httpsAgent = new _https.Agent(opts);

  return url => (0, _lodash2.default)(url, 'https') ? httpsAgent : httpAgent;
};